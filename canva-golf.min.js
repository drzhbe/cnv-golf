var d = document.querySelector("canvas"), g = window, h = g.z, k = devicePixelRatio || 1, l = g.innerWidth, m = g.innerHeight, n = document.addEventListener, p = requestAnimationFrame, q = d.getContext("2d"), r = [], t = [], u,
v =(a, b) => w(a, b, t, t.length) || w(a, b, r, r.length),
w = (a, b, e, f) => {
  for (; f--;) {
    var c = e[f];
    if (a > c.x && a < c.x + c.c && b > c.y && b < c.y + c.b) {
      return e[f];
    }
  }
},
x = [a => q.drawImage(a.a, a.x, a.y, a.c, a.b), a => q.fillText(a.a, a.x, a.y + 20)],
y = _ => {
  q.clearRect(0, 0, l, m);
  r.concat(t).forEach(function(a) {
    return x[a.t](a);
  });
  p(y);
},
D=e=>{
  e.preventDefault()
  const files = [...e.dataTransfer.items].map(i => i.getAsFile())
  const images = files.map(f => {
    const i = new Image()
    i.onload = addImage(i)
    i.src = URL.createObjectURL(f)
  })
},
O=e=>e.preventDefault(),
d.width = l * k;
d.height = m * k;
q.scale(k, k);
q.font = "20pt Serif";
n("mousedown", function(a) {
  u = (element = v(a.x, a.y)) && {e:element, f:a.x - element.x, g:a.y - element.y};
  n("mouseup", function() {
    return u = h;
  });
});
n("mousemove", function(a) {
  var b;
  if (b = u) {
    b = a.y;
    var e = u, f = e.e, c = e.g;
    f.x = a.x - e.f;
    f.y = b - c;
    b = void 0;
  }
  return b;
});
n("keydown", function(a) {
  if (a = "t" == a.key) {
    a = t.push({t:1, a:"Golf Wang", x:l / 2 - q.measureText("Golf Wang").width / 2, y:m / 2 - 20, c:g, b:20});
  }
  return a;
});
p(y);